(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bebe33f"],{"0b62":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"app-container"},[a("page-tools",{attrs:{"show-before":!0}},[a("span",{attrs:{slot:"before"},slot:"before"},[e._v("共166条记录")]),a("template",{slot:"after"},[a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(t){return e.$router.push("/import")}}},[e._v("导入")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.exportExcel}},[e._v("导出")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.showAddDialog}},[e._v(" 新增员工 ")])],1)],2),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-table",{attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{label:"序号",sortable:"",type:"index"}}),a("el-table-column",{attrs:{label:"姓名",sortable:"",prop:"username"}}),a("el-table-column",{attrs:{label:"工号",sortable:"",prop:"workNumber"}}),a("el-table-column",{attrs:{label:"聘用形式",sortable:"",prop:"formOfEmployment",formatter:e.formatEmployment}}),a("el-table-column",{attrs:{label:"部门",sortable:"",prop:"departmentName"}}),a("el-table-column",{attrs:{label:"入职时间",sortable:"",prop:"timeOfEntry"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatTime")(t.row.timeOfEntry))+" ")]}}])}),a("el-table-column",{attrs:{label:"账户状态",align:"center",sortable:"",prop:"enableState"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("el-switch",{attrs:{value:1===t.enableState}})]}}])}),a("el-table-column",{attrs:{label:"操作",sortable:"",fixed:"right",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.$router.push("/employees/detail/"+r.id)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("转正")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("调岗")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("离职")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("角色")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("删除")])]}}])})],1),a("el-row",{staticStyle:{height:"60px"},attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.page.size,"current-page":e.page.page,total:e.page.total},on:{"current-change":e.changePage}})],1)],1)],1),a("add-employees",{attrs:{visible:e.showAdd},on:{"update:visible":function(t){e.showAdd=t}}})],1)},l=[],o=a("c7eb"),i=a("1da1"),n=(a("7db0"),a("d3b7"),a("3ca3"),a("ddb0"),a("b64b"),a("d81d"),a("8f00")),s=a("dfa6"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"提示",visible:e.visible,width:"50%"},on:{close:e.onClose}},[a("el-form",{ref:"addEmployee",attrs:{model:e.formData,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"username"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入姓名"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入手机号"},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),a("el-form-item",{attrs:{label:"入职时间",prop:"timeOfEntry"}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择日期"},model:{value:e.formData.timeOfEntry,callback:function(t){e.$set(e.formData,"timeOfEntry",t)},expression:"formData.timeOfEntry"}})],1),a("el-form-item",{attrs:{label:"聘用形式",prop:"formOfEmployment"}},[a("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择"},model:{value:e.formData.formOfEmployment,callback:function(t){e.$set(e.formData,"formOfEmployment",t)},expression:"formData.formOfEmployment"}},e._l(e.EmployeeEnum.hireType,(function(e){return a("el-option",{key:e.id,attrs:{value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"工号",prop:"workNumber"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入工号"},model:{value:e.formData.workNumber,callback:function(t){e.$set(e.formData,"workNumber",t)},expression:"formData.workNumber"}})],1),a("el-form-item",{attrs:{label:"部门",prop:"departmentName"}},[a("div",{staticClass:"dept-select"},[a("el-select",{ref:"deptSelect",staticStyle:{width:"50%"},attrs:{placeholder:"请选择部门"},on:{focus:e.getDepartments},model:{value:e.formData.departmentName,callback:function(t){e.$set(e.formData,"departmentName",t)},expression:"formData.departmentName"}},[a("el-option",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"treeSelectOption",attrs:{value:""}},[a("el-tree",{attrs:{data:e.treeData,props:{label:"name"}},on:{"node-click":e.handleNodeClick}})],1)],1)],1)]),a("el-form-item",{attrs:{label:"转正时间",prop:"correctionTime"}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择日期"},model:{value:e.formData.correctionTime,callback:function(t){e.$set(e.formData,"correctionTime",t)},expression:"formData.correctionTime"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.onClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)],1)},d=[],c=a("ade3"),m=(a("b0c0"),a("1eef")),p=a("ed08"),v={data:function(){var e;return e={EmployeeEnum:s["a"],treeData:[],showTree:!1,loading:!1,formData:{username:"",mobile:"",formOfEmployment:"",workNumber:"",departmentName:"",timeOfEntry:"",correctionTime:""},rules:{username:[{required:!0,message:"用户姓名不能为空",trigger:"blur"},{min:1,max:4,message:"用户姓名为1-4位"}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"手机号格式不正确",trigger:"blur"}],formOfEmployment:[{required:!0,message:"聘用形式不能为空",trigger:"blur"}],workNumber:[{required:!0,message:"工号不能为空",trigger:"blur"}],departmentName:[{required:!0,message:"部门不能为空",trigger:"change"}],timeOfEntry:[{required:!0,message:"入职时间",trigger:"blur"}]}},Object(c["a"])(e,"treeData",[]),Object(c["a"])(e,"treeLoading",!1),e},props:{visible:{type:Boolean,required:!0}},created:function(){},methods:{onClose:function(){this.formData={username:"",mobile:"",formOfEmployment:"",workNumber:"",departmentName:"",timeOfEntry:"",correctionTime:""},this.$refs.addEmployee.resetFields(),this.$emit("update:visible",!1)},getDepartments:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.treeLoading=!0,t.next=3,Object(m["a"])();case 3:a=t.sent,r=a.depts,e.treeData=Object(p["a"])(r,""),e.treeLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},handleNodeClick:function(e){this.formData.departmentName=e.name,this.$refs.deptSelect.blur()},onSave:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.addEmployee.validate();case 3:return t.next=5,Object(n["a"])(e.formData);case 5:e.$parent.getEmployeeList(),e.$parent.showDialog=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},f=v,b=(a("2254"),a("2877")),g=Object(b["a"])(f,u,d,!1,null,"80251a00",null),h=g.exports,y=a("8975"),w=s["a"].exportExcelMapPath,x=s["a"].hireType,O={data:function(){return{loading:!1,list:[],page:{page:1,size:10,total:0},showAdd:!1}},components:{AddEmployees:h},created:function(){this.getEmployeeList()},methods:{changePage:function(e){this.page.page=e,this.getEmployeeList()},getEmployeeList:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var a,r,l;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(n["b"])(e.page);case 3:a=t.sent,r=a.total,l=a.rows,e.page.total=r,e.list=l,e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},formatEmployment:function(e,t,a,r){var l=s["a"].hireType.find((function(e){return e.id===a}));return l?l.value:"未知"},showAddDialog:function(){this.showAdd=!0},exportExcel:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function t(){var r,l,i,s,u;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([a.e("chunk-00b7e488"),a.e("chunk-2d0cc0b6")]).then(a.bind(null,"4bf8"));case 2:return r=t.sent,t.next=5,Object(n["b"])({page:1,size:e.page.total});case 5:l=t.sent,i=l.rows,console.log(i),s=Object.keys(w),u=i.map((function(e){return s.map((function(t){return"入职日期"===t||"转正日期"===t?Object(y["formatTime"])(e[w[t]]):"聘用形式"===t?(null===(a=x.find((function(a){return a.id===e[w[t]]})))||void 0===a?void 0:a.value)||"未知":e[w[t]];var a}))})),r.export_json_to_excel({header:s,data:u,filename:"员工信息表",autoWidth:!0,bookType:"xlsx",multiHeader:[["手机号","主要信息","","","","","部门"]],merges:["A1:A2","B1:F1","G1:G2"]});case 11:case"end":return t.stop()}}),t)})))()}}},k=O,E=Object(b["a"])(k,r,l,!1,null,"7c5da9ba",null);t["default"]=E.exports},2254:function(e,t,a){"use strict";a("e590")},"7db0":function(e,t,a){"use strict";var r=a("23e7"),l=a("b727").find,o=a("44d2"),i=a("ae40"),n="find",s=!0,u=i(n);n in[]&&Array(1)[n]((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!u},{find:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),o(n)},dfa6:function(e,t,a){"use strict";t["a"]={hireType:[{id:1,value:"正式"},{id:2,value:"非正式"}],subjection:[{id:"1",value:"总部"},{id:"2",value:"分城市"}],workingState:[{id:"1",value:"在职"},{id:"2",value:"离职"}],leaveType:[{id:"1",value:"主动离职"},{id:"2",value:"被动离职"},{id:"3",value:"退休"}],attritionMonth:[{id:"1",value:"离职日本月"},{id:"2",value:"离职日次月"}],informaltype:[{id:"2",value:"实习"},{id:"3",value:"劳务"},{id:"4",value:"顾问"},{id:"5",value:"返聘"},{id:"6",value:"外包"}],highestDegree:[{id:"1",value:"初中"},{id:"2",value:"高中"},{id:"3",value:"中专"},{id:"4",value:"大专"},{id:"5",value:"本科"},{id:"6",value:"硕士"},{id:"7",value:"博士"},{id:"8",value:"其他"}],isOverseas:[{id:"1",value:"中国大陆"},{id:"2",value:"港澳台国外"}],gender:[{id:"1",value:"男"},{id:"2",value:"女"}],maritaStatus:[{id:"1",value:"未婚"},{id:"2",value:"已婚"},{id:"3",value:"离异"}],animalSymbol:[{id:"1",value:"鼠"},{id:"2",value:"牛"},{id:"3",value:"虎"},{id:"4",value:"兔"},{id:"5",value:"龙"},{id:"6",value:"蛇"},{id:"7",value:"马"},{id:"8",value:"羊"},{id:"9",value:"猴"},{id:"10",value:"鸡"},{id:"11",value:"狗"},{id:"12",value:"猪"}],constellation:[{code:1,value:"水瓶座"},{code:2,value:"双鱼座"},{code:3,value:"白羊座"},{code:4,value:"金牛座"},{code:5,value:"双子座"},{code:6,value:"巨蟹座"},{code:7,value:"狮子座"},{code:8,value:"处女座"},{code:9,value:"天秤座"},{code:10,value:"天蝎座"},{code:11,value:"射手座"},{code:12,value:"摩羯座"}],bloodType:[{id:"1",value:"A型"},{id:"2",value:"B型"},{id:"3",value:"O型"},{id:"4",value:"AB型"}],educationType:[{id:"1",value:"统招"},{id:"2",value:"自考"},{id:"3",value:"成考"}],positiveType:[{id:"1",value:"已转正"},{id:"2",value:"未转正"}],contractPeriod:[{id:"1",value:"6月"},{id:"2",value:"12月"},{id:"3",value:"24月"},{id:"4",value:"36月"},{id:"5",value:"其他"}],renewalCount:[{id:1,value:"0次"},{id:2,value:"1次"},{id:3,value:"2次"},{id:4,value:"3次"},{id:5,value:"4次或以上"}],resumeSource:[{id:"1",value:"智联招聘"},{id:"2",value:"拉勾网"},{id:"3",value:"前程无忧"},{id:"4",value:"猎聘网"},{id:"5",value:"校园宣讲"},{id:"6",value:"猎头"},{id:"7",value:"内部推荐"}],hireSourceType:[{id:"1",value:"社招"},{id:"2",value:"校招"}],departments:[{id:"1",value:"总裁办"},{id:"2",value:"研究院"}],stausInfos:[{id:"1",value:"在职"},{id:"2",value:"入职"},{id:"3",value:"离职"}],excelMapKeyPath:{"入职日期":"timeOfEntry","姓名":"username","工号":"workNumber","手机号":"mobile","转正日期":"correctionTime"},exportExcelMapPath:{"手机号":"mobile","姓名":"username","入职日期":"timeOfEntry","聘用形式":"formOfEmployment","转正日期":"correctionTime","工号":"workNumber","部门":"departmentName"}}},e590:function(e,t,a){}}]);